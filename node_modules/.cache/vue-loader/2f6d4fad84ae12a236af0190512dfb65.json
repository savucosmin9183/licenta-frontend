{"remainingRequest":"/home/cosmjn/Desktop/licentav2/Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cosmjn/Desktop/licentav2/Frontend/src/views/Link.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cosmjn/Desktop/licentav2/Frontend/src/views/Link.vue","mtime":1643197953776},{"path":"/home/cosmjn/Desktop/licentav2/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cosmjn/Desktop/licentav2/Frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/cosmjn/Desktop/licentav2/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cosmjn/Desktop/licentav2/Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2hlY2tfbG9hZGluZzogZmFsc2UsCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGRhdGE6IE9iamVjdCwKICB9LAogIG1ldGhvZHM6IHsKICAgIHRlc3RMaW5rKGl0ZW0pIHsKICAgICAgdGhpcy5jaGVja19sb2FkaW5nID0gdHJ1ZTsKICAgICAgZmV0Y2goImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9saWdodGhvdXNlIiwgewogICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICBBY2NlcHQ6ICIqLyoiLAogICAgICAgIH0sCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgdXJsOiBpdGVtLm5hbWUsCiAgICAgICAgICBwcm9qZWN0OiB0aGlzLnByb2plY3RfbmFtZSwKICAgICAgICAgIGlkOiBpdGVtLmlkLAogICAgICAgIH0pLAogICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgIC50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goKGxpbmspID0+IHsKICAgICAgICAgICAgaWYgKGxpbmsubmFtZSA9PSBpdGVtLm5hbWUpIHsKICAgICAgICAgICAgICBsaW5rLnBlcmZvcm1hbmNlID0gZGF0YS5wZXJmICogMTAwOwogICAgICAgICAgICAgIGxpbmsuYWNjZXNzID0gZGF0YS5hY2MgKiAxMDA7CiAgICAgICAgICAgICAgbGluay5iZXN0cHJhY3RpY2VzID0gZGF0YS5iZXN0cCAqIDEwMDsKICAgICAgICAgICAgICBsaW5rLnNlbyA9IGRhdGEuc2VvICogMTAwOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuY2hlY2tfbG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgIGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjEzMzcvbGlua3MvJHtpdGVtLmlkfWAsIHsKICAgICAgICAgICAgbWV0aG9kOiAiUFVUIiwKICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgIGltYWdlOiBkYXRhLmZhdmljb24sCiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRhdGEuZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgYWNjZXNzOiBkYXRhLmFjYywKICAgICAgICAgICAgICBwZXJmb3JtYW5jZTogZGF0YS5wZXJmLAogICAgICAgICAgICAgIHNlbzogZGF0YS5zZW8sCiAgICAgICAgICAgICAgYmVzdHByYWN0aWNlczogZGF0YS5iZXN0cCwKICAgICAgICAgICAgICB0aXRsZTogZGF0YS50aXRsZSwKICAgICAgICAgICAgfSksCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVMaW5rKGl0ZW0pIHsKICAgICAgdGhpcy5pdGVtcy5zcGxpY2UoCiAgICAgICAgdGhpcy5pdGVtcy5maW5kSW5kZXgoKGUpID0+IGUubmFtZSA9PT0gaXRlbS5uYW1lKSwKICAgICAgICAxCiAgICAgICk7CgogICAgICBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDoxMzM3L2xpbmtzLyR7aXRlbS5pZH1gLCB7CiAgICAgICAgbWV0aG9kOiAiREVMRVRFIiwKICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Link.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Link.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"actions_wrapper\">\n    <b-icon\n      icon=\"trash-fill\"\n      class=\"trash\"\n      @click=\"deleteLink(data.item)\"\n    ></b-icon>\n    <b-button\n      v-if=\"!check_loading\"\n      size=\"sm\"\n      @click=\"testLink(data.item)\"\n      class=\"mr-1\"\n      variant=\"warning\"\n    >\n      Check\n    </b-button>\n    <div v-if=\"check_loading\" class=\"loader\"></div>\n    <a href=\"../Reports/Proiect1/13.html\" target=\"_blank\"\n      ><b-button v-if=\"!check_loading\" size=\"sm\" class=\"mr-1\" variant=\"success\">\n        View Report\n      </b-button>\n    </a>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      check_loading: false,\n    };\n  },\n  props: {\n    data: Object,\n  },\n  methods: {\n    testLink(item) {\n      this.check_loading = true;\n      fetch(\"http://localhost:3000/lighthouse\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"*/*\",\n        },\n        body: JSON.stringify({\n          url: item.name,\n          project: this.project_name,\n          id: item.id,\n        }),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          this.items.forEach((link) => {\n            if (link.name == item.name) {\n              link.performance = data.perf * 100;\n              link.access = data.acc * 100;\n              link.bestpractices = data.bestp * 100;\n              link.seo = data.seo * 100;\n            }\n          });\n          this.check_loading = false;\n\n          fetch(`http://localhost:1337/links/${item.id}`, {\n            method: \"PUT\",\n            body: JSON.stringify({\n              image: data.favicon,\n              description: data.description,\n              access: data.acc,\n              performance: data.perf,\n              seo: data.seo,\n              bestpractices: data.bestp,\n              title: data.title,\n            }),\n          });\n        });\n    },\n    deleteLink(item) {\n      this.items.splice(\n        this.items.findIndex((e) => e.name === item.name),\n        1\n      );\n\n      fetch(`http://localhost:1337/links/${item.id}`, {\n        method: \"DELETE\",\n      });\n    },\n  },\n};\n</script>\n"]}]}
{"remainingRequest":"/home/cosmjn/Desktop/licentav2/Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cosmjn/Desktop/licentav2/Frontend/src/views/Project.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cosmjn/Desktop/licentav2/Frontend/src/views/Project.vue","mtime":1645543900904},{"path":"/home/cosmjn/Desktop/licentav2/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cosmjn/Desktop/licentav2/Frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/cosmjn/Desktop/licentav2/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cosmjn/Desktop/licentav2/Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEJJY29uIH0gZnJvbSAiYm9vdHN0cmFwLXZ1ZSI7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7Ci8vIGltcG9ydCBMaW5rIGZyb20gIi4vTGluay52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEJJY29uLAogICAgLy8gTGluaywKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaW5rX25hbWU6ICIiLAogICAgICBmaWVsZHM6IFsKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJuYW1lIiwKICAgICAgICAgIGxhYmVsOiAiTGluayIsCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGtleTogInBlcmYiLAogICAgICAgICAgbGFiZWw6ICJQZXJmb3JtYW5jZSIsCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGtleTogImFjY2VzcyIsCiAgICAgICAgICBsYWJlbDogIkFjY2Vzc2liaWxsaXR5IiwKICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAga2V5OiAic2VvIiwKICAgICAgICAgIGxhYmVsOiAiU0VPIiwKICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAga2V5OiAiYmVzdFAiLAogICAgICAgICAgbGFiZWw6ICJCZXN0IFByYWN0aWNlcyIsCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGtleTogImFjdGlvbnMiLAogICAgICAgICAgbGFiZWw6ICIiLAogICAgICAgIH0sCiAgICAgIF0sCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIHByb2plY3Q6IE9iamVjdCwKICB9LAogIG1ldGhvZHM6IHsKICAgIHNob3dfYWRkTGlua19tb2RhbCgpIHsKICAgICAgdGhpcy5saW5rX25hbWUgPSAiIjsKICAgICAgdGhpcy4kcmVmc1siYWRkTGlua01vZGFsIl0uc2hvdygpOwogICAgfSwKCiAgICBhZGRMaW5rKCkgewogICAgICBsZXQgbGluayA9IHsKICAgICAgICBuYW1lOiB0aGlzLmxpbmtfbmFtZSwKICAgICAgICBwZXJmb3JtYW5jZTogIm4vYSIsCiAgICAgICAgYWNjZXNzOiAibi9hIiwKICAgICAgICBzZW86ICJuL2EiLAogICAgICAgIGJlc3RwcmFjdGljZXM6ICJuL2EiLAogICAgICB9OwoKICAgICAgZmV0Y2goImh0dHA6Ly9sb2NhbGhvc3Q6MTMzNy9saW5rcyIsIHsKICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICBuYW1lOiB0aGlzLmxpbmtfbmFtZSwKICAgICAgICAgIHByb2plY3Q6IHsKICAgICAgICAgICAgbmFtZTogdGhpcy5wcm9qZWN0X25hbWUsCiAgICAgICAgICAgIGlkOiB0aGlzLnByb2plY3RfaWQsCiAgICAgICAgICB9LAogICAgICAgIH0pLAogICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAgIC50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgICBsaW5rLmlkID0gZGF0YS5pZDsKICAgICAgICAgIHRoaXMuaXRlbXMucHVzaChsaW5rKTsKICAgICAgICB9KTsKCiAgICAgIHRoaXMuJHJlZnNbImFkZExpbmtNb2RhbCJdLmhpZGUoKTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldEluaXRpYWxQYWdlIiwgZmFsc2UpOwogICAgdGhpcy5wcm9qZWN0X25hbWUgPSB0aGlzLiRyb3V0ZS5wYXJhbXMucHJvamVjdF9uYW1lOwogICAgdGhpcy5wcm9qZWN0cy5mb3JFYWNoKChwcmopID0+IHsKICAgICAgaWYgKHByai5uYW1lID09IHRoaXMucHJvamVjdF9uYW1lKSB7CiAgICAgICAgdGhpcy5wcm9qZWN0X2lkID0gcHJqLmlkOwogICAgICB9CiAgICB9KTsKCiAgICBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDoxMzM3L3Byb2plY3RzLyR7dGhpcy5wcm9qZWN0X2lkfWAsIHsKICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgaGVhZGVyczogewogICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgIH0sCiAgICB9KQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgLnRoZW4oKGRhdGEpID0+IHsKICAgICAgICB0aGlzLml0ZW1zID0gZGF0YS5saW5rczsKCiAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgICBpdGVtLmFjY2VzcyA9PSBudWxsCiAgICAgICAgICAgID8gKGl0ZW0uYWNjZXNzID0gIm4vYSIpCiAgICAgICAgICAgIDogKGl0ZW0uYWNjZXNzID0gaXRlbS5hY2Nlc3MgKiAxMDApOwogICAgICAgICAgaXRlbS5wZXJmb3JtYW5jZSA9PSBudWxsCiAgICAgICAgICAgID8gKGl0ZW0ucGVyZm9ybWFuY2UgPSAibi9hIikKICAgICAgICAgICAgOiAoaXRlbS5wZXJmb3JtYW5jZSA9IGl0ZW0ucGVyZm9ybWFuY2UgKiAxMDApOwogICAgICAgICAgaXRlbS5zZW8gPT0gbnVsbCA/IChpdGVtLnNlbyA9ICJuL2EiKSA6IChpdGVtLnNlbyA9IGl0ZW0uc2VvICogMTAwKTsKICAgICAgICAgIGl0ZW0uYmVzdHByYWN0aWNlcyA9PSBudWxsCiAgICAgICAgICAgID8gKGl0ZW0uYmVzdHByYWN0aWNlcyA9ICJuL2EiKQogICAgICAgICAgICA6IChpdGVtLmJlc3RwcmFjdGljZXMgPSBpdGVtLmJlc3RwcmFjdGljZXMgKiAxMDApOwogICAgICAgIH0pOwogICAgICB9KTsKICB9LAogIGNvbXB1dGVkOiBtYXBTdGF0ZShbImFjdGl2ZVByb2plY3QiLCAibGlua3MiXSksCn07Cg=="},{"version":3,"sources":["Project.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Project.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"main_page\">\n    <p class=\"title\">{{ project_name }}</p>\n    <b-icon icon=\"plus\" class=\"add-icon\" @click=\"show_addLink_modal\"></b-icon>\n    <b-table striped hover :items=\"links\" :fields=\"fields\">\n      <template v-slot:cell(name)=\"data\">\n        <a\n          :href=\"\n            `${activeProject.name}/${data.value\n              .replace(/[^a-z1-9]+/i, '-')\n              .toLowerCase()}`\n          \"\n          >{{ data.value }}</a\n        >\n      </template>\n      <!-- <template v-slot:cell(actions)=\"data\">\n        <Link :data=\"data\" />\n      </template> -->\n    </b-table>\n    <b-modal\n      size=\"md\"\n      centered\n      ref=\"addLinkModal\"\n      hide-footer\n      title=\"Add a link\"\n    >\n      <div class=\"modal_input\">\n        <b-col sm=\"2\">\n          <label for=\"input-small\">Link</label>\n        </b-col>\n        <b-col sm=\"10\">\n          <b-form-input\n            id=\"input-small\"\n            @keyup.enter=\"addLink\"\n            v-model=\"link_name\"\n            size=\"sm\"\n            placeholder=\"Enter link name\"\n          ></b-form-input>\n        </b-col>\n      </div>\n      <b-button variant=\"outline-danger\" @click=\"addLink\">Add</b-button>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { BIcon } from \"bootstrap-vue\";\nimport { mapState } from \"vuex\";\n// import Link from \"./Link.vue\";\n\nexport default {\n  components: {\n    BIcon,\n    // Link,\n  },\n  data() {\n    return {\n      link_name: \"\",\n      fields: [\n        {\n          key: \"name\",\n          label: \"Link\",\n          sortable: true,\n        },\n        {\n          key: \"perf\",\n          label: \"Performance\",\n          sortable: true,\n        },\n        {\n          key: \"access\",\n          label: \"Accessibillity\",\n          sortable: true,\n        },\n        {\n          key: \"seo\",\n          label: \"SEO\",\n          sortable: true,\n        },\n        {\n          key: \"bestP\",\n          label: \"Best Practices\",\n          sortable: true,\n        },\n        {\n          key: \"actions\",\n          label: \"\",\n        },\n      ],\n    };\n  },\n  props: {\n    project: Object,\n  },\n  methods: {\n    show_addLink_modal() {\n      this.link_name = \"\";\n      this.$refs[\"addLinkModal\"].show();\n    },\n\n    addLink() {\n      let link = {\n        name: this.link_name,\n        performance: \"n/a\",\n        access: \"n/a\",\n        seo: \"n/a\",\n        bestpractices: \"n/a\",\n      };\n\n      fetch(\"http://localhost:1337/links\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          name: this.link_name,\n          project: {\n            name: this.project_name,\n            id: this.project_id,\n          },\n        }),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          link.id = data.id;\n          this.items.push(link);\n        });\n\n      this.$refs[\"addLinkModal\"].hide();\n    },\n  },\n  mounted() {\n    this.$store.dispatch(\"setInitialPage\", false);\n    this.project_name = this.$route.params.project_name;\n    this.projects.forEach((prj) => {\n      if (prj.name == this.project_name) {\n        this.project_id = prj.id;\n      }\n    });\n\n    fetch(`http://localhost:1337/projects/${this.project_id}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        this.items = data.links;\n\n        this.items.forEach((item) => {\n          item.access == null\n            ? (item.access = \"n/a\")\n            : (item.access = item.access * 100);\n          item.performance == null\n            ? (item.performance = \"n/a\")\n            : (item.performance = item.performance * 100);\n          item.seo == null ? (item.seo = \"n/a\") : (item.seo = item.seo * 100);\n          item.bestpractices == null\n            ? (item.bestpractices = \"n/a\")\n            : (item.bestpractices = item.bestpractices * 100);\n        });\n      });\n  },\n  computed: mapState([\"activeProject\", \"links\"]),\n};\n</script>\n\n<style>\n.trash {\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n}\n\n.trash:hover {\n  transform: scale(1.4);\n}\n\n.loader {\n  border: 5px solid #daddd8;\n  border-top: 5px solid black;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  -webkit-animation: spin 2s linear infinite;\n  animation: spin 2s linear infinite;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.actions_wrapper {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  align-items: center;\n}\n</style>\n"]}]}
{"remainingRequest":"/home/cosmjn/Desktop/licentav2/Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cosmjn/Desktop/licentav2/Frontend/src/views/Project.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/cosmjn/Desktop/licentav2/Frontend/src/views/Project.vue","mtime":1645543900904},{"path":"/home/cosmjn/Desktop/licentav2/Frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cosmjn/Desktop/licentav2/Frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/cosmjn/Desktop/licentav2/Frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/cosmjn/Desktop/licentav2/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cosmjn/Desktop/licentav2/Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi50cmFzaCB7CiAgd2lkdGg6IDIwcHg7CiAgaGVpZ2h0OiAyMHB4OwogIGN1cnNvcjogcG9pbnRlcjsKfQoKLnRyYXNoOmhvdmVyIHsKICB0cmFuc2Zvcm06IHNjYWxlKDEuNCk7Cn0KCi5sb2FkZXIgewogIGJvcmRlcjogNXB4IHNvbGlkICNkYWRkZDg7CiAgYm9yZGVyLXRvcDogNXB4IHNvbGlkIGJsYWNrOwogIGJvcmRlci1yYWRpdXM6IDUwJTsKICB3aWR0aDogMzBweDsKICBoZWlnaHQ6IDMwcHg7CiAgLXdlYmtpdC1hbmltYXRpb246IHNwaW4gMnMgbGluZWFyIGluZmluaXRlOwogIGFuaW1hdGlvbjogc3BpbiAycyBsaW5lYXIgaW5maW5pdGU7Cn0KCkBrZXlmcmFtZXMgc3BpbiB7CiAgMCUgewogICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7CiAgfQogIDEwMCUgewogICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsKICB9Cn0KCi5hY3Rpb25zX3dyYXBwZXIgewogIHdpZHRoOiAxMDAlOwogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IHJvdzsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTsKICBhbGlnbi1pdGVtczogY2VudGVyOwp9Cg=="},{"version":3,"sources":["Project.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsKA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Project.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"main_page\">\n    <p class=\"title\">{{ project_name }}</p>\n    <b-icon icon=\"plus\" class=\"add-icon\" @click=\"show_addLink_modal\"></b-icon>\n    <b-table striped hover :items=\"links\" :fields=\"fields\">\n      <template v-slot:cell(name)=\"data\">\n        <a\n          :href=\"\n            `${activeProject.name}/${data.value\n              .replace(/[^a-z1-9]+/i, '-')\n              .toLowerCase()}`\n          \"\n          >{{ data.value }}</a\n        >\n      </template>\n      <!-- <template v-slot:cell(actions)=\"data\">\n        <Link :data=\"data\" />\n      </template> -->\n    </b-table>\n    <b-modal\n      size=\"md\"\n      centered\n      ref=\"addLinkModal\"\n      hide-footer\n      title=\"Add a link\"\n    >\n      <div class=\"modal_input\">\n        <b-col sm=\"2\">\n          <label for=\"input-small\">Link</label>\n        </b-col>\n        <b-col sm=\"10\">\n          <b-form-input\n            id=\"input-small\"\n            @keyup.enter=\"addLink\"\n            v-model=\"link_name\"\n            size=\"sm\"\n            placeholder=\"Enter link name\"\n          ></b-form-input>\n        </b-col>\n      </div>\n      <b-button variant=\"outline-danger\" @click=\"addLink\">Add</b-button>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { BIcon } from \"bootstrap-vue\";\nimport { mapState } from \"vuex\";\n// import Link from \"./Link.vue\";\n\nexport default {\n  components: {\n    BIcon,\n    // Link,\n  },\n  data() {\n    return {\n      link_name: \"\",\n      fields: [\n        {\n          key: \"name\",\n          label: \"Link\",\n          sortable: true,\n        },\n        {\n          key: \"perf\",\n          label: \"Performance\",\n          sortable: true,\n        },\n        {\n          key: \"access\",\n          label: \"Accessibillity\",\n          sortable: true,\n        },\n        {\n          key: \"seo\",\n          label: \"SEO\",\n          sortable: true,\n        },\n        {\n          key: \"bestP\",\n          label: \"Best Practices\",\n          sortable: true,\n        },\n        {\n          key: \"actions\",\n          label: \"\",\n        },\n      ],\n    };\n  },\n  props: {\n    project: Object,\n  },\n  methods: {\n    show_addLink_modal() {\n      this.link_name = \"\";\n      this.$refs[\"addLinkModal\"].show();\n    },\n\n    addLink() {\n      let link = {\n        name: this.link_name,\n        performance: \"n/a\",\n        access: \"n/a\",\n        seo: \"n/a\",\n        bestpractices: \"n/a\",\n      };\n\n      fetch(\"http://localhost:1337/links\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          name: this.link_name,\n          project: {\n            name: this.project_name,\n            id: this.project_id,\n          },\n        }),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          link.id = data.id;\n          this.items.push(link);\n        });\n\n      this.$refs[\"addLinkModal\"].hide();\n    },\n  },\n  mounted() {\n    this.$store.dispatch(\"setInitialPage\", false);\n    this.project_name = this.$route.params.project_name;\n    this.projects.forEach((prj) => {\n      if (prj.name == this.project_name) {\n        this.project_id = prj.id;\n      }\n    });\n\n    fetch(`http://localhost:1337/projects/${this.project_id}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        this.items = data.links;\n\n        this.items.forEach((item) => {\n          item.access == null\n            ? (item.access = \"n/a\")\n            : (item.access = item.access * 100);\n          item.performance == null\n            ? (item.performance = \"n/a\")\n            : (item.performance = item.performance * 100);\n          item.seo == null ? (item.seo = \"n/a\") : (item.seo = item.seo * 100);\n          item.bestpractices == null\n            ? (item.bestpractices = \"n/a\")\n            : (item.bestpractices = item.bestpractices * 100);\n        });\n      });\n  },\n  computed: mapState([\"activeProject\", \"links\"]),\n};\n</script>\n\n<style>\n.trash {\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n}\n\n.trash:hover {\n  transform: scale(1.4);\n}\n\n.loader {\n  border: 5px solid #daddd8;\n  border-top: 5px solid black;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  -webkit-animation: spin 2s linear infinite;\n  animation: spin 2s linear infinite;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.actions_wrapper {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  align-items: center;\n}\n</style>\n"]}]}